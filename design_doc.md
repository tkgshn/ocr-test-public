# 改善提案シート文字起こしツール 設計ドキュメント

## 概要

住民会議で回収された改善提案シートの手書き文字を OCR で読み取り、地域の課題ごとに整理して Markdown 形式で出力するローカルツールです。

## 機能要件

### 入力

- **改善提案シート**: 手書きの画像ファイル（JPG, PNG, GIF, WEBP, SVG）
- **議事録**: 参考資料（オプション）
- **投影資料**: 参考資料（オプション）

### 処理フロー

1. **画像 OCR 処理**: OpenAI GPT-4 Vision を使用した手書き文字認識
2. **文字認識修正**: 誤認識の修正処理
3. **結果統合**: 複数画像の結果を統合
4. **課題分類**: 地域課題ごとの整理
5. **Markdown 出力**: 最終結果の整形

### 出力

- 課題ごとに整理された Markdown 形式のレポート
- 各課題に対する「個人」「地域」「行政」「その他」の視点での解決策

## 技術仕様

### アーキテクチャ

- **フロントエンド**: Streamlit（Web インターフェース）
- **バックエンド**: Python
- **AI API**: OpenAI GPT-4 Vision & GPT-4

### データフロー

```
画像ファイル → OCR処理 → 修正処理 → 統合処理 → 分類処理 → Markdown出力
```

### ファイル構成

```
ocr_tool/
├── app.py              # Streamlitアプリケーション
├── ocr_processor.py    # OCR処理クラス
├── text_corrector.py   # 文字修正クラス
├── data_organizer.py   # データ整理クラス
├── markdown_formatter.py # Markdown出力クラス
├── config.py           # 設定ファイル
├── requirements.txt    # 依存関係
└── README.md          # 使用方法
```

## セキュリティ考慮事項

- OpenAI API キーの安全な管理
- アップロードファイルのサイズ制限
- 一時ファイルの適切な削除

## パフォーマンス考慮事項

- 並列処理による複数画像の効率的な処理
- API レート制限への対応
- メモリ使用量の最適化
